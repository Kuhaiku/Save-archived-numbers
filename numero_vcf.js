const fs = require("fs")
const path = require("path")

var phoneArray = [
  "+55 22 98147-5756",
  "+55 22 99794-3035",
  "+55 22 98150-1404",
  "+55 22 99608-1802",
  "+55 22 99229-6562",
  "+55 22 99607-0439",
  "+55 21 96425-0794",
  "+55 22 97405-4575",
  "+55 22 99778-9756",
  "+55 22 99883-9372",
  "+55 22 99763-2841",
  "+55 21 98303-3761",
  "+55 22 99284-0773",
  "+55 22 98835-8656",
  "+55 22 99753-8219",
  "+55 22 98821-0538",
  "+55 21 97480-2906",
  "+55 22 99244-0683",
  "+55 22 98110-4355",
  "+55 21 98892-3184",
  "+55 22 99225-4096",
  "+55 22 98804-9367",
  "+55 21 92006-9804",
  "+55 22 98825-4461",
  "+55 22 99956-4944",
  "+55 21 99337-1671",
  "+55 22 99957-1319",
  "+55 21 99397-3954",
  "+55 22 99973-1540",
  "+55 22 99610-9281",
  "+55 22 98873-3747",
  "+55 22 99867-9495",
  "+55 22 99242-8817",
  "+55 21 97410-6001",
  "+55 22 98812-5139",
  "+55 22 99215-4912",
  "+55 22 99779-8766",
  "+55 22 98108-9707",
  "+55 22 99731-1211",
  "+55 22 99849-0251",
  "+55 21 98556-2215",
  "+55 21 97007-5699",
  "+55 22 99238-8290",
  "+55 22 98158-9457",
  "+55 21 98203-4425",
  "+55 22 98114-5728",
  "+55 21 99968-2860",
  "+55 22 98871-1886",
  "+55 21 98505-5996",
  "+55 21 96840-5903",
  "+55 22 98874-3125",
  "+55 22 99618-4626",
  "+55 22 99879-2152",
  "+55 21 98530-2249",
  "+55 22 99749-0486",
  "+55 22 99808-8294",
  "+55 21 97078-8282",
  "+55 22 98158-6240",
  "+55 22 99773-6070",
  "+55 22 98848-4588",
  "+55 21 99487-0552",
  "+55 22 99885-7887",
  "+55 22 99877-5611",
  "+55 22 98835-0863",
  "+55 21 98674-8369",
  "+55 21 99444-9978",
  "+55 22 99960-9794",
  "+55 21 97516-3901",
  "+55 22 99272-1614",
  "+55 22 98112-1767",
  "+55 22 99804-3366",
  "+55 22 99735-1890",
  "+55 22 98822-0218",
  "+55 22 97400-8230",
  "+55 22 98876-8262",
  "+55 22 99281-6262",
  "+55 22 99853-6485",
  "+55 22 99747-4013",
  "+55 21 98106-9539",
  "+55 22 99913-8669",
  "+55 22 99941-4064",
  "+55 22 98842-4525",
  "+55 21 97525-0356",
  "+55 22 99910-7752",
  "+55 31 8499-9125",
  "+55 22 99229-7608",
  "+55 22 99771-6786",
  "+55 22 98849-8507",
  "+55 22 99729-7196",
  "+55 21 99095-8380",
  "+55 21 97258-7382",
  "+55 21 99851-9778",
  "+55 22 99841-8176",
  "+55 22 99244-5680",
  "+55 22 99204-0296",
  "+55 22 99911-5694",
  "+55 22 99287-7240",
  "+55 21 97983-6615",
  "+55 22 98865-7820",
  "+55 22 99964-5651",
  "+55 22 98825-4302",
  "+55 22 98839-9096",
  "+55 22 98812-1408",
  "+55 22 99751-6612",
  "+55 21 99195-4062",
  "+55 22 99939-4562",
  "+55 21 99680-9180",
  "+55 22 99622-9690",
  "+55 22 99792-0067",
  "+55 22 99999-4821",
  "+55 21 99228-6064",
  "+55 22 98829-9347",
  "+55 22 99876-1685",
  "+55 22 99283-9568",
  "+55 22 98134-3034",
  "+55 22 98870-1757",
  "+55 22 98826-0724",
  "+55 21 96769-8499",
  "+55 22 99885-1083",
  "+55 22 98827-6093",
  "+55 22 99600-5014",
  "+55 22 98133-6775",
  "+55 22 99953-3417",
  "+55 21 99989-9978",
  "+55 22 98124-0920",
  "+55 21 98719-1070",
  "+55 22 99279-8992",
  "+55 21 99607-8673",
  "+55 22 99222-6941",
  "+55 22 99223-2592",
  "+55 22 98866-9890",
  "+55 22 99738-1352",
  "+55 21 99943-1324",
  "+55 22 98829-2493",
  "+55 22 98849-0070",
  "+55 21 98883-3951",
  "+55 22 99841-6253",
  "+55 22 98822-8041",
  "+55 22 99901-7449",
  "+55 21 98176-7965",
  "+55 22 99771-6933",
  "+55 22 99991-5694",
  "+55 22 99265-1390",
  "+55 22 99262-3666",
  "+55 41 9506-0421",
  "+55 22 99237-3105",
  "+55 21 99753-6204",
  "+55 21 97290-0336",
  "+55 21 99702-0115",
  "+55 21 98121-5520",
  "+55 71 8238-5080",
  "+55 22 98152-8476",
  "+55 21 97220-7160",
  "+55 21 97684-5348",
  "+55 22 99209-1917",
  "+55 22 97403-1663",
  "+55 22 99935-7903",
  "+55 22 98835-8003",
  "+55 22 99829-4086"
]

var diretorioDeDestino = "./contatos"

var numerosPorArquivo = 100
var numeros = ""

for (var i = 0; i < phoneArray.length; i++) {
  var phone = phoneArray[i]

  numeros += "BEGIN:VCARD\n"
  numeros += "VERSION:3.0\n"
  numeros += "N:Cliente  " + phone + ";;;;\n"
  numeros += "FN:Cliente " + phone + "\n"
  numeros += "item" + (i + 1) + ".TEL;waid=" + phone + ":" + phone + "\n"
  numeros += "item" + (i + 1) + ".X-ABLabel:Celular\n"
  numeros += "END:VCARD\n"

  if ((i + 1) % numerosPorArquivo === 0 || i === phoneArray.length - 1) {
    salvarEmTxt(
      path.join(
        diretorioDeDestino,
        "numeros_" + Math.ceil((i + 1) / numerosPorArquivo) + ".vcf"
      ),
      numeros
    )
    numeros = ""
  }
}

function salvarEmTxt(caminhoArquivo, conteudo) {
  fs.writeFileSync(caminhoArquivo, conteudo, "utf-8")
}
